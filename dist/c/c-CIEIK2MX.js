import{a as K,b as G}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-RO3HJYJ5.js";import{k as $}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-UHXDCVRZ.js";import{E as U,s as x,y as P}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-3Z7TN3F3.js";import{b as R,h as z}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-AJJJ2YQK.js";import{D as W,F as D}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-EW5ORGES.js";import{a as O}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-75DVMCH6.js";import{c as V}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-YKRSBDJJ.js";import{a as L,b,d as g,f as S}from"https://st-p.rmcdn1.net/fb5a3d71/dist/c/c-ZYG7ZY5I.js";var E=b(C=>{"use strict";var k=O();function H(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var J=typeof Object.is=="function"?Object.is:H,Q=k.useSyncExternalStore,X=k.useRef,Y=k.useEffect,Z=k.useMemo,w=k.useDebugValue;C.useSyncExternalStoreWithSelector=function(t,r,e,o,s){var n=X(null);if(n.current===null){var i={hasValue:!1,value:null};n.current=i}else i=n.current;n=Z(function(){function u(p){if(!l){if(l=!0,T=p,p=o(p),s!==void 0&&i.hasValue){var f=i.value;if(s(f,p))return a=f}return a=p}if(f=a,J(T,p))return f;var v=o(p);return s!==void 0&&s(f,v)?f:(T=p,a=v)}var l=!1,T,a,d=e===void 0?null:e;return[function(){return u(r())},d===null?void 0:function(){return u(d())}]},[r,e,o,s]);var c=Q(t,n[0],n[1]);return Y(function(){i.hasValue=!0,i.value=c},[c]),w(c),c}});var M=b((se,j)=>{"use strict";j.exports=E()});function _(t,r){if(Object.is(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(let[o,s]of t)if(!Object.is(s,r.get(o)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(let o of t)if(!r.has(o))return!1;return!0}let e=Object.keys(t);if(e.length!==Object.keys(r).length)return!1;for(let o of e)if(!Object.prototype.hasOwnProperty.call(r,o)||!Object.is(t[o],r[o]))return!1;return!0}var q=L(()=>{"use strict"});function A(t){return typeof t=="function"}function B(t,r){return typeof r<"u"}function ee(t){return typeof t=="number"||typeof t=="string"||typeof t=="boolean"||typeof t>"u"||t===null}function te(t){return Array.isArray(t)||t instanceof Map||t instanceof Set||t instanceof WeakMap||t instanceof WeakSet||typeof t=="object"}function m(t){return t instanceof h}function re(t){return["constructor","prototype",...Object.getOwnPropertyNames(t)]}var y,I,h,N=L(()=>{"use strict";y=g(O());G();I=g(M());U();q();D();h=class t{constructor(){S(this,"__reactiveListeners",new Set);S(this,"__currentState",{});S(this,"__internalKeys",[]);S(this,"__detachedKeys",[]);this.__internalKeys=re(this),K(this)}initStore(r={}){r.detachedKeys?.length&&(this.__detachedKeys=r.detachedKeys);let e={},o=Object.getOwnPropertyNames(this);for(let s of o){if(this.__internalKeys.includes(s))continue;let n=this[s],i=s;if(typeof n=="function"){e[i]=n;continue}if(m(n)){e[i]=n,this.isDetached(i)||n.subscribe(()=>this.syncChildrenStores(i,n));continue}(ee(n)||te(n))&&(e[i]=n)}this.__currentState=e}isDetached(r){return this.__detachedKeys.includes(r)}getState(){return this.__currentState}setState(r,e={}){let o=A(r)?r(this.__currentState):r,s=P(this.__currentState,Object.keys(o));if(e.bubbling||!x(s,o)){let n=this.__currentState,i=Object.entries(o);for(let[c,u]of i){let l=c;(!n[l]||!m(n[l]))&&m(u)&&(this.isDetached(l)||u.subscribe(()=>this.syncChildrenStores(l,u)))}this.__currentState={...this.__currentState,...o},Object.assign(this,o);for(let c of this.__reactiveListeners)c(this.__currentState,n)}}syncChildrenStores(r,e){let o={[r]:e};this.setState(o,{bubbling:!0})}subscribe(r,e,o=!1){let s=i=>(this.__reactiveListeners.add(i),()=>{this.__reactiveListeners.delete(i)});if(e&&B(r,e)){let i=r,c=e,u=o?_:Object.is,l=i(this.getState());return s(T=>{let a=i(T);if(!u(l,a)){let d=l;l=a,c(a,d)}})}return s(r)}static createContext(){let r=(0,y.createContext)(void 0);function e({children:n,value:i}){if(!(typeof i=="object"&&i!==null&&i instanceof t))throw new Error("Only instances of `ReactiveStore` should be used inside `Provider`");return W(r.Provider,{value:i,children:n})}function o(){let n=(0,y.useContext)(r);if(!n)throw new Error("`useStore` hook must be used inside `Provider`");return n}function s(n,i=!1){let c=o(),u=(0,y.useRef)(c.subscribe.bind(c)).current,l=(0,y.useRef)(c.getState.bind(c)).current;return(0,I.useSyncExternalStoreWithSelector)(u,l,l,n,i?_:Object.is)}return{Provider:e,useStore:s}}}});function oe(t){return["button","picture","shape","lottie","shots"].includes(t.type)||t.type==="video"&&!t.controls}var F,ne=L(()=>{"use strict";V();$();N();z();F=class extends h{constructor(e){super();S(this,"project");S(this,"linkData",null);this.initStore(),this.project=e.project,this.setState({linkData:this.getLinkData(e.widget.model)}),this.project.subscribe(o=>o.pages,()=>{this.setState({linkData:this.getLinkData(e.widget.model)})})}getLinkData(e){if(!e||!oe(e)||!e.clickLink)return null;if(e.clickLink?.toLowerCase()==="__rm_anchor")return{type:"Anchor",target:e.clickTarget,url:`${e.anchor_link_pos}px`,anchorPosition:e.anchor_link_pos,pageId:e.clickPage,closeTip:e.closeTip};if(e.clickLink?.toLowerCase().includes("mailto:"))return{type:"Email",target:e.clickTarget,url:e.clickLink.toLowerCase().replace("mailto:",""),closeTip:e.closeTip};if(e.clickLink?.toLowerCase().includes("tel:"))return{type:"Phone",target:e.clickTarget,url:e.clickLink.toLowerCase().replace("tel:",""),closeTip:e.closeTip};if(e.clickLink?.toLowerCase().includes("back to top"))return{type:"ScrollToTop",url:"",closeTip:e.closeTip};if(e.clickLink?.toLowerCase()==="__rm_goback")return{type:"GoBack",url:"",closeTip:e.closeTip};if(this.project.getPageNum(e.clickLink)){let o=this.project.getPageNum(e.clickLink);return{type:"Page",target:e.clickTarget,pageId:e.clickLink,url:o?`${o}`:"",closeTip:e.closeTip}}else if(R(e.clickLink))return{type:"URL",target:e.clickTarget,url:e.clickLink,closeTip:e.closeTip};return null}}});export{h as a,N as b,F as c,oe as d,ne as e};
